<div id="rooms-list-container">
  <div>
    <app-user></app-user>
    <div>
      <button mat-button color="accent" (click)="loadAll()">
        <mat-icon>refresh</mat-icon>
        Refresh
      </button>
      <button mat-button color="accent" [disabled]="!selectedRowId" (click)="openRoom(selectedRowId)">
        <mat-icon>open_in_new</mat-icon>
        Open room
      </button>
      <button mat-button color="accent" (click)="openCreateNewRoomDialog()">
        <mat-icon>add</mat-icon>
        Create new room
      </button>
    </div>
  </div>
  <div id="rooms-table-container">
    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8 demo-table">
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef> Id </th>
        <td mat-cell *matCellDef="let element"> {{element.id}} </td>
      </ng-container>

      <ng-container matColumnDef="description">
        <th mat-header-cell *matHeaderCellDef> Description </th>
        <td mat-cell *matCellDef="let element"> {{element.description}} </td>
      </ng-container>

      <ng-container matColumnDef="createdBy">
        <th mat-header-cell *matHeaderCellDef> Created By </th>
        <td mat-cell *matCellDef="let element"> {{element.createdBy}} </td>
      </ng-container>

      <ng-container matColumnDef="createdAt">
        <th mat-header-cell *matHeaderCellDef> Created At </th>
        <td mat-cell *matCellDef="let element"> {{element.createdAt | date:'medium' }} </td>
      </ng-container>

      <ng-container matColumnDef="members">
        <th mat-header-cell *matHeaderCellDef> Members </th>
        <td mat-cell *matCellDef="let element"> {{element.usersCount}}/4 </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"
          [class.selected]="row.id === selectedRowId"
          (click)="selectRow(row)"
          (dblclick)="openRoom(row.id)"></tr>
    </table>
  </div>
</div>
